FROM alexmitrevski/nao:zyre

SHELL [ "/bin/bash", "-c" ]

# setting up the workspace
RUN sudo apt-get install -y ros-$ROS_DISTRO-moveit && \
    mkdir -p /workspace/src && \
    cd /workspace/src && \
    git clone https://github.com/migrave/mas_qt_tablet_interface.git && \
    git clone https://github.com/migrave/software.git && \
    cd software && \
    git checkout temporary_fixes && \
    cd /workspace && \
    source /opt/ros/$ROS_DISTRO/setup.bash && \
    catkin_make && \
    echo "source /workspace/devel/setup.bash" >> /root/.bashrc

RUN apt update && \
    apt install -y python3-pip && \
    pip3 install PyYAML \
                 rospkg \
                 pyparsing==2.4.7
